<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sezar Åifreleme Ã‡arkÄ±</title>
    
    <!-- PDF kÃ¼tÃ¼phaneleri kaldÄ±rÄ±ldÄ± -->
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Fredoka:wght@400;600&display=swap');

        :root {
            --primary-color: #FF6B6B;
            --secondary-color: #4ECDC4;
            --accent-color: #FFE66D;
            --dark-color: #2C3E50;
            --bg-color: #F7F9FC;
        }

        body {
            font-family: 'Fredoka', sans-serif; /* Ã‡ocuk dostu yuvarlak font */
            background-color: var(--bg-color);
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--dark-color);
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.1);
        }

        .container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            max-width: 1200px;
            width: 100%;
        }

        /* --- Ã‡ARK ALANI --- */
        .wheel-section {
            flex: 1;
            min-width: 350px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .wheel-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 20px 0;
        }

        .circle {
            position: absolute;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15);
            transition: transform 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        /* DÄ±ÅŸ Daire */
        .outer-circle {
            width: 100%;
            height: 100%;
            background: conic-gradient(
                #FF9F43 0deg 12.41deg, #FECA57 12.41deg 24.82deg, 
                #FF6B6B 24.82deg 37.23deg, #FF9FF3 37.23deg 49.64deg, 
                #54A0FF 49.64deg 62.05deg, #5F27CD 62.05deg 74.46deg,
                #48DBFB 74.46deg 86.87deg, #1DD1A1 86.87deg 99.28deg,
                #FF9F43 99.28deg 111.69deg, #FECA57 111.69deg 124.1deg,
                #FF6B6B 124.1deg 136.51deg, #FF9FF3 136.51deg 148.92deg,
                #54A0FF 148.92deg 161.33deg, #5F27CD 161.33deg 173.74deg,
                #48DBFB 173.74deg 186.15deg, #1DD1A1 186.15deg 198.56deg,
                #FF9F43 198.56deg 210.97deg, #FECA57 210.97deg 223.38deg,
                #FF6B6B 223.38deg 235.79deg, #FF9FF3 235.79deg 248.2deg,
                #54A0FF 248.2deg 260.61deg, #5F27CD 260.61deg 273.02deg,
                #48DBFB 273.02deg 285.43deg, #1DD1A1 285.43deg 297.84deg,
                #FF9F43 297.84deg 310.25deg, #FECA57 310.25deg 322.66deg,
                #FF6B6B 322.66deg 335.07deg, #FF9FF3 335.07deg 347.48deg,
                #54A0FF 347.48deg 360deg
            );
            z-index: 1;
        }
        
        /* Ä°Ã§ Daire */
        .inner-circle {
            width: 70%;
            height: 70%;
            top: 15%; 
            left: 15%;
            background: #fff;
            border: 5px solid var(--dark-color);
            z-index: 2;
        }

        /* Merkez NoktasÄ± */
        .center-dot {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--dark-color); /* Koyu renkli bir nokta */
            transform: translate(-50%, -50%);
            box-shadow: 0 0 5px rgba(0,0,0,0.5);
            z-index: 3; /* Ã‡arklardan Ã¼stte olmalÄ± */
        }

        .letter {
            position: absolute;
            font-weight: bold;
            font-size: 14px;
            
            /* Harfleri dairenin merkezinde baÅŸlat ve kendi boyutuna gÃ¶re ortala */
            width: 20px; 
            height: 20px; 
            top: 50%; 
            left: 50%; 
            margin-left: -10px; 
            margin-top: -10px; 
        }

        .outer-circle .letter {
            color: #fff;
            text-shadow: 1px 1px 0 #000;
            font-size: 16px;
        }

        .inner-circle .letter {
            color: var(--dark-color);
            font-size: 14px;
        }

        /* --- KONTROL PANELI VE YENÄ° Ã–ÄELER --- */
        .controls {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            text-align: center;
            margin-top: 20px;
            width: 100%;
            max-width: 400px;
        }

        .key-display {
            font-size: 1.5rem;
            margin: 10px 0;
            font-weight: bold;
            color: var(--primary-color);
        }

        button {
            background: var(--secondary-color);
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            color: white;
            font-family: inherit;
            font-weight: bold;
            font-size: 1.1rem;
            cursor: pointer;
            transition: transform 0.2s;
            margin: 5px; 
        }

        button:hover {
            transform: scale(1.05);
            background: #3ebcb3;
        }

        button.reset {
            background: var(--primary-color);
            margin-top: 10px;
        }
        
        /* Yeni Åifrele butonu stili */
        .encrypt-button {
            background-color: #54A0FF; /* Mavi tonu */
            margin-top: 15px;
            width: 100%;
        }
        .encrypt-button:hover {
            background-color: #4088ff;
        }

        /* Input ve Ã‡Ä±ktÄ± alanlarÄ± */
        .example-box {
            background: var(--dark-color);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-family: monospace;
            font-size: 1.2rem;
            text-align: center;
        }
        
        .output-box {
            background: var(--dark-color);
            color: var(--accent-color); /* SarÄ± tonunda Ã§Ä±ktÄ± */
            padding: 15px;
            border-radius: 10px;
            margin-top: 15px;
            font-family: monospace;
            font-size: 1.1rem;
            text-align: center;
            min-height: 40px;
            word-wrap: break-word;
        }

        .input-group {
            margin-top: 10px;
            display: flex;
            flex-direction: column;
            gap: 5px;
            align-items: stretch;
        }
        
        .input-group input {
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-family: inherit;
            font-size: 1rem;
        }

        .input-group label {
            text-align: left; 
            color: var(--dark-color); 
            font-weight: bold;
            font-size: 0.9rem;
            margin-bottom: 2px;
        }


        /* --- IKONOGRAF (SAÄ TARAF) --- */
        .guide-section {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .step-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            gap: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-left: 5px solid var(--secondary-color);
            transition: transform 0.3s;
        }

        .step-card:hover {
            transform: translateX(10px);
        }

        .step-icon {
            font-size: 3rem;
            background: #f0f0f0;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .step-content h3 {
            margin: 0 0 5px 0;
            color: var(--dark-color);
        }

        .step-content p {
            margin: 0;
            font-size: 0.95rem;
            line-height: 1.4;
            color: #666;
        }

    </style>
</head>
<body>

    <h1>ğŸ•µï¸â€â™‚ï¸ Sezar Åifreleme Ã‡arkÄ±</h1>
    <p style="text-align: center; max-width: 600px;">Ä°Ã§erideki Ã§arkÄ± Ã§evir, harfleri eÅŸleÅŸtir ve gizli mesajÄ±nÄ± oluÅŸtur.</p>

    <div class="container" id="mainContainer">
        
        <!-- SOL TARAF: Ã‡ARK VE KONTROLLER -->
        <div class="wheel-section">
            <div class="wheel-container">
                <!-- DÄ±ÅŸ Daire -->
                <div class="circle outer-circle" id="outerCircle">
                    <!-- Harfler JS ile eklenecek -->
                </div>
                <!-- Ä°Ã§ Daire -->
                <div class="circle inner-circle" id="innerCircle">
                    <!-- Harfler JS ile eklenecek -->
                </div>
                <!-- Merkez NoktasÄ± -->
                <div class="center-dot"></div>
            </div>

            <div class="controls">
                <!-- Ã‡ark Kontrolleri -->
                <div class="key-display">Ã‡ark AnahtarÄ±: <span id="keyValue">0</span></div>
                <button onclick="changeKey(-1)">â¬…ï¸ Sola Ã‡evir</button>
                <button onclick="changeKey(1)">SaÄŸa Ã‡evir â¡ï¸</button>
                <button class="reset" onclick="resetWheel()">SÄ±fÄ±rla (A=A)</button>
                
                <!-- PDF Butonu kaldÄ±rÄ±ldÄ± -->
                
                <div class="example-box">
                    <span style="color:#aaa; font-size: 0.8em">Ã–rnek EÅŸleÅŸme:</span><br>
                    DIÅ 'A' = Ä°Ã‡ '<span id="matchExample">A</span>'
                </div>

                <!-- YENÄ° MANUEL ÅÄ°FRELEME BÃ–LÃœMÃœ -->
                <hr style="border: 0; border-top: 1px solid #ccc; margin: 20px 0;">
                
                <h3>Metin Åifreleyici ğŸ”’</h3>

                <div class="input-group">
                    <label for="inputPlainText">Åifrelenecek Metin:</label>
                    <input type="text" id="inputPlainText" placeholder="Ã–rn: GIZLI MESAJIM">
                </div>

                <div class="input-group">
                    <label for="inputKey">Anahtar DeÄŸeri (0-28):</label>
                    <input type="number" id="inputKey" min="0" max="28" value="3" placeholder="Ã–rn: 3">
                </div>

                <button class="encrypt-button" onclick="manualEncrypt()">Åifrele</button>
                
                <!-- Åifreli SonuÃ§ AlanÄ± -->
                <div class="output-box" id="cipherOutput">
                    Åifreli metin burada gÃ¶rÃ¼necek.
                </div>
            </div>
        </div>

        <!-- SAÄ TARAF: Ä°KONOGRAF / AÃ‡IKLAMA -->
        <div class="guide-section">
            <h2>NasÄ±l Ã‡alÄ±ÅŸÄ±r?</h2>
            
            <div class="step-card">
                <div class="step-icon">ğŸ¯</div>
                <div class="step-content">
                    <h3>1. AdÄ±m: Hizala</h3>
                    <p>Ã‡arkÄ± sÄ±fÄ±rla. Hem dÄ±ÅŸtaki hem iÃ§teki <strong>'A'</strong> harfinin tam Ã¼st Ã¼ste geldiÄŸinden emin ol.</p>
                </div>
            </div>

            <div class="step-card">
                <div class="step-icon">ğŸ”„</div>
                <div class="step-content">
                    <h3>2. AdÄ±m: AnahtarÄ± SeÃ§</h3>
                    <p>Ä°Ã§ Ã§arkÄ± <strong>Saat YÃ¶nÃ¼nde</strong> (saÄŸa doÄŸru) Ã§evir. Ã–rneÄŸin anahtarÄ± <strong>3</strong> yaparsan, Ã§ark 3 adÄ±m dÃ¶ner.</p>
                </div>
            </div>

            <div class="step-card">
                <div class="step-icon">ğŸ“</div>
                <div class="step-content">
                    <h3>3. AdÄ±m: EÅŸleÅŸtir</h3>
                    <p>MesajÄ±ndaki harfi <strong>DÄ±ÅŸ Dairede</strong> bul, tam altÄ±na gelen <strong>Ä°Ã§ Dairedeki</strong> harfi not et. Ä°ÅŸte ÅŸifre bu!</p>
                </div>
            </div>

            <div class="step-card" style="border-left-color: var(--primary-color);">
                <div class="step-icon">ğŸ’¡</div>
                <div class="step-content">
                    <h3>Ä°pucu:</h3>
                    <p>Åifreyi Ã§Ã¶zmek iÃ§in iÅŸlemi tersten yap! Åifreli harfi iÃ§erde bul, dÄ±ÅŸtaki karÅŸÄ±lÄ±ÄŸÄ±na bak.</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // API konfigÃ¼rasyonlarÄ± ve Gemini iÅŸlevleri kaldÄ±rÄ±ldÄ±.
        
        // TÃ¼rkÃ§e alfabenin 29 harfi
        const turkishAlphabet = [
            "A", "B", "C", "Ã‡", "D", "E", "F", "G", "Ä", "H", "I", "Ä°", "J", "K", "L", 
            "M", "N", "O", "Ã–", "P", "R", "S", "Å", "T", "U", "Ãœ", "V", "Y", "Z"
        ];
        
        const outerCircle = document.getElementById('outerCircle');
        const innerCircle = document.getElementById('innerCircle');
        const matchExample = document.getElementById('matchExample');
        const keyValueDisplay = document.getElementById('keyValue');
        const cipherOutput = document.getElementById('cipherOutput'); // Yeni Ã§Ä±ktÄ± alanÄ±
        
        let currentRotation = 0; // Dilim sayÄ±sÄ± cinsinden rotasyon (Anahtar DeÄŸeri)
        const totalSlices = 29;
        const anglePerSlice = 360 / totalSlices;

        /**
         * Verilen karakteri Sezar Åifresi ile ÅŸifreler (TÃ¼rkÃ§e Alfabeye gÃ¶re)
         * @param {string} char 
         * @param {number} key 
         * @returns {string} ÅifrelenmiÅŸ karakter
         */
        function caesarEncrypt(char, key) {
            const upperChar = char.toUpperCase();
            const index = turkishAlphabet.indexOf(upperChar);
            if (index === -1) {
                return char; // TÃ¼rkÃ§e olmayan veya harf olmayan karakterleri koru
            }
            
            // Sezar ÅŸifreleme formÃ¼lÃ¼: (index + key) mod 29
            const newIndex = (index + key) % totalSlices;
            // Negatif sayÄ±lar iÃ§in dÃ¼zeltme (Ã–rn: key -1 ise)
            const correctedIndex = (newIndex + totalSlices) % totalSlices;
            
            // BÃ¼yÃ¼k/kÃ¼Ã§Ã¼k harf duyarlÄ±lÄ±ÄŸÄ±nÄ± koru
            const cipheredChar = turkishAlphabet[correctedIndex];
            
            // Orijinal karakter kÃ¼Ã§Ã¼k harf ise, ÅŸifreli karakteri de kÃ¼Ã§Ã¼k harf yap
            if (char === upperChar) {
                return cipheredChar;
            } else {
                return cipheredChar.toLowerCase();
            }
        }


        // Ã‡arklarÄ± OluÅŸturma Fonksiyonu
        function createWheel(element, letterRadialDistance) {
            turkishAlphabet.forEach((letter, index) => {
                const span = document.createElement('div');
                span.className = 'letter';
                span.innerText = letter;
                
                // Harfi dilimin ortasÄ±na hizalamak iÃ§in yarÄ±m dilim aÃ§Ä±sÄ± eklenir
                const rotateAngle = index * anglePerSlice + (anglePerSlice / 2);
                
                // Harflerin yerleÅŸimi ve dik durmasÄ±
                span.style.transform = `
                    rotate(${rotateAngle}deg)
                    translateY(-${letterRadialDistance}px) 
                    rotate(${-rotateAngle}deg)
                `;
                
                element.appendChild(span);
            });
        }

        // Ã‡arklarÄ± Ã‡iz
        const outerRadialDistance = 175; // DÄ±ÅŸ Ã§ember kenarÄ±na yakÄ±n
        const innerRadialDistance = 120; // Ä°Ã§ Ã§ember kenarÄ±na yakÄ±n
        
        createWheel(outerCircle, outerRadialDistance);
        createWheel(innerCircle, innerRadialDistance);

        // Anahtar DeÄŸiÅŸtirme (DÃ¶ndÃ¼rme)
        function changeKey(direction) {
            currentRotation += direction;
            
            // 0-28 arasÄ± mod alma (Negatif sayÄ±lar iÃ§in dÃ¼zeltme)
            let displayKey = currentRotation % totalSlices;
            if (displayKey < 0) displayKey += totalSlices;

            updateWheelUI(displayKey);
        }

        function resetWheel() {
            currentRotation = 0;
            updateWheelUI(0);
        }

        function updateWheelUI(key) { 
            // Anahtar deÄŸerini gÃ¶ster
            keyValueDisplay.innerText = key;

            // Ä°Ã§ Ã§arkÄ± dÃ¶ndÃ¼r
            // Anahtar pozitifse (saÄŸa Ã§evir), Ã§ark Sola (Negatif aÃ§Ä±) dÃ¶ner.
            const rotationDegree = -key * anglePerSlice;
            innerCircle.style.transform = `rotate(${rotationDegree}deg)`;

            // Ã–rnek Harfi GÃ¼ncelle (DÄ±ÅŸ 'A'nÄ±n karÅŸÄ±lÄ±ÄŸÄ±)
            const matchedIndex = (0 + key) % totalSlices;
            const matchedLetter = turkishAlphabet[matchedIndex];
            
            matchExample.innerText = matchedLetter;
            matchExample.style.color = "var(--primary-color)";
            matchExample.style.fontWeight = "bold";
        }

        /**
         * KullanÄ±cÄ±nÄ±n girdiÄŸi metni ve anahtarÄ± kullanarak ÅŸifreleme yapar.
         */
        function manualEncrypt() {
            const plainText = document.getElementById('inputPlainText').value.trim();
            let key = parseInt(document.getElementById('inputKey').value);
            
            if (!plainText) {
                cipherOutput.innerHTML = `<span style="color: var(--accent-color);">LÃ¼tfen ÅŸifrelenecek bir metin girin.</span>`;
                return;
            }

            // AnahtarÄ±n geÃ§erliliÄŸini kontrol et ve varsayÄ±lan deÄŸer ata
            if (isNaN(key) || key < 0 || key > totalSlices - 1) {
                key = 3; // GeÃ§ersizse varsayÄ±lan 3 kullan
                document.getElementById('inputKey').value = key;
            }

            // AnahtarÄ± Ã§arkÄ±n gÃ¶rsel dÃ¶nÃ¼ÅŸÃ¼ne yansÄ±t (kullanÄ±cÄ±nÄ±n gÃ¶rmesi iÃ§in)
            currentRotation = key;
            updateWheelUI(key);

            // Metni ÅŸifrele
            const cipherText = Array.from(plainText).map(char => caesarEncrypt(char, key)).join('');

            // Ã‡Ä±ktÄ±yÄ± gÃ¶ster
            cipherOutput.innerHTML = `
                <span style="font-size: 0.8em; color: #fff;">ÅÄ°FRELÄ° METÄ°N (ANAHTAR: ${key}):</span><br>
                ${cipherText}
            `;
        }


        window.onload = function() {
            // BaÅŸlangÄ±Ã§ta Ã§arkÄ± gÃ¼ncelleyerek harflerin doÄŸru yerleÅŸtiÄŸinden emin ol
            updateWheelUI(0);
        };
    </script>
</body>
</html>
